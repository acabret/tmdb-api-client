{"version":3,"sources":["utils/config.js","utils/movies.js","components/MovieCover.js","components/MovieSection.js","components/MovieSearch.js","App.js","index.js"],"names":["appLanguage","imageSizes","baseUrl","discoverMovies","language","genre","voteGte","voteLte","dateGte","dateLte","languageKey","genreKey","voteGteKey","voteLteKey","dateGteKey","dateLteKey","fetch","then","response","json","Wrapper","styled","article","MovieImage","div","poster_path","MovieScoreWrapper","MovieScore","span","MovieTitle","h3","MovieCover","movie","Number","vote_average","toFixed","title","MoviesWrapper","SectionTitle","MovieSection","sectionTitle","movies","console","log","map","id","main","SearchWrapper","MovieSearch","props","useState","genres","setGenres","selection","setSelection","rangeRatingValues","setRangeRatingValues","Date","getFullYear","rangeReleaseValues","setRangeReleaseValues","useEffect","options","reduce","array","concat","value","label","name","searchMovies","a","searchParams","searchResult","searchSection","setSearchSection","rangeRatingSettings","min","max","step","defaultValue","onChange","values","rangeReleaseSettings","selectedOption","placeholder","onClick","App","sections","setSections","status","Error","catch","err","data","section","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5dbbc91a.chunk.js","sourcesContent":["export const appLanguage = \"en-US\";\nexport const baseImageUrl = \"https://image.tmdb.org/t/p\";\nexport const imageSizes = { small: \"/w154\", medium: \"/w300\",large:\"/w780\" };\n","import { appLanguage } from \"./config\";\nconst baseUrl = \"/api/\";\n\nexport const initAppData = ({ language }) => {\n  return fetch(`${baseUrl}movies/init`)\n    .then((response) => {\n      if (response.status === 200) {\n        return response.json();\n      }\n      throw Error(\"Hubo un error en la conexiÃ³n con el servidor\");\n    })\n    .catch((err) => console.log(err));\n};\n//genre, language, voteGte, voteLte, dateGte\nexport const discoverMovies = ({\n  language = appLanguage,\n  genre,\n  voteGte,\n  voteLte,\n  dateGte,\n  dateLte,\n}) => {\n  const languageKey = `?language=${language}`;\n  const genreKey = genre ? `&genre=${genre}` : \"\";\n  const voteGteKey = voteGte ? `&voteGte=${voteGte}` : \"\";\n  const voteLteKey = voteLte ? `&voteLte=${voteLte}` : \"\";\n  const dateGteKey = dateGte ? `&dateGte=${dateGte}-01-01` : \"\";\n  const dateLteKey = dateLte ? `&dateLte=${dateLte}-12-31` : \"\";\n\n  return fetch(\n    `${baseUrl}movies/discover${languageKey}${genreKey}${voteGteKey}${voteLteKey}${dateGteKey}${dateLteKey}`\n  ).then((response) => response.json());\n};\n","import styled from \"styled-components\";\nimport { baseImageUrl, imageSizes } from \"../utils/config\";\n\nconst Wrapper = styled.article`\n  background-color: gray;\n  /* width: 11rem; */\n  width: 40%;\n  margin: 1rem .5rem;\n  @media (min-width: 768px) {\n    width: 15%;\n  }\n`;\nconst MovieImage = styled.div`\n  position: relative;\n  background-image: url(${({ poster_path }) =>\n    `${baseImageUrl}${imageSizes.small}${poster_path}`});\n  background-position: center;\n  background-size: cover;\n  padding-top: calc( 100% * 16/11);\n  width: 100%;\n`;\n\nconst MovieScoreWrapper = styled.div`\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  /* transform: translate(50%, -50%); */\n  background-color: hsla(53, 100%, 42%, 1);\n  padding: 0.2rem 0.5rem;\n  z-index: 10;\n`;\n\nconst MovieScore = styled.span`\n  font-size: 1rem;\n  font-weight: bold;\n`;\nconst MovieTitle = styled.h3`\n  font-size: 1rem ;\n\n\n\n`;\n\nconst MovieCover = ({ movie }) => {\n  return (\n    <Wrapper>\n      <MovieImage poster_path={movie.poster_path}>\n        <MovieScoreWrapper>\n          <MovieScore>{Number(movie.vote_average).toFixed(1)}</MovieScore>\n        </MovieScoreWrapper>\n      </MovieImage>\n      <MovieTitle>{movie.title}</MovieTitle>\n    </Wrapper>\n  );\n};\n\nexport default MovieCover;\n","import styled from \"styled-components\";\nimport MovieCover from \"./MovieCover\";\n\nconst MoviesWrapper = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: 1rem 0;\n  background-color: red;\n  @media (min-width: 768px) {\n    justify-content:space-around;\n  }\n`;\n\nconst SectionTitle = styled.h3`\n    font-size: 1.4rem;\n    margin-bottom: .75rem;\n`;\n\nconst MovieSection = ({ sectionTitle, movies }) => {\n\n  console.log(\"peliculas de \", sectionTitle, \"peliculas\", movies);\n  return (\n    <section>\n      <SectionTitle>{sectionTitle}</SectionTitle>\n      <MoviesWrapper>\n        {movies.map((movie) => (\n          <MovieCover key={movie.id} movie={movie} />\n        ))}\n      </MoviesWrapper>\n    </section>\n  );\n};\n\nexport default MovieSection;\n","import styled from \"styled-components\";\nimport Select from \"react-select\";\nimport Slider, { Range } from \"rc-slider\";\nimport \"rc-slider/assets/index.css\";\nimport { useState, useEffect } from \"react\";\nimport { discoverMovies } from \"../utils/movies\";\n\n// const createSliderWithTooltip = Slider.createSliderWithTooltip;\n// const Range = createSliderWithTooltip(Slider.Range)\n\nconst Wrapper = styled.main`\n  display: flex;\n  justify-content: center;\n`;\n\nconst SearchWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 60%;\n  @media (min-width: 768px) {\n    width: 300px;\n  }\n`;\n\nconst MovieSearch = (props) => {\n  const [genres, setGenres] = useState([]);\n  const [selection, setSelection] = useState(null);\n  const [rangeRatingValues, setRangeRatingValues] = useState([5, 9]);\n  const [rangeReleaseValues, setRangeReleaseValues] = useState([\n    1990,\n    new Date().getFullYear(),\n  ]);\n\n  useEffect(() => {\n    const options = props.genres.reduce(\n      (array, genre) => array.concat({ value: genre.id, label: genre.name }),\n      []\n    );\n    setGenres([...options]);\n  }, [props.genres]);\n\n  const searchMovies = async () => {\n    const searchParams = {\n      voteGte: rangeRatingValues[0],\n      voteLte: rangeRatingValues[1],\n      genre: selection?.value ? selection.value : \"\",\n      dateGte: rangeReleaseValues[0],\n      dateLte: rangeReleaseValues[1],\n    };\n    //corregir en caso de no seleccionar ningun genero\n\n    const searchResult = await discoverMovies(searchParams);\n    console.log(searchResult);\n\n    const searchSection = {\n      id: selection?.value ? selection.value : 0,\n      name: selection?.label ? selection.label : \"De todos los gÃ©neros\",\n      movies: [...searchResult],\n    };\n\n    props.setSearchSection(searchSection);\n\n    // console.log(searchResult);\n  };\n\n  const handleGenreSelect = (selectedOption) => {\n    console.log(selectedOption);\n    setSelection(selectedOption);\n  };\n\n  const handleRatingRange = (values) => setRangeRatingValues([...values]);\n  const handleReleaseRange = (values) => setRangeReleaseValues([...values]);\n\n  const rangeRatingSettings = {\n    min: 1,\n    max: 10,\n    step: 0.1,\n    value: rangeRatingValues,\n    defaultValue: rangeRatingValues,\n    onChange: handleRatingRange,\n  };\n\n  const rangeReleaseSettings = {\n    min: 1900,\n    max: new Date().getFullYear(),\n    step: 1,\n    value: rangeReleaseValues,\n    defaultValue: rangeReleaseValues,\n    onChange: handleReleaseRange,\n  };\n\n  return (\n    <Wrapper>\n      <SearchWrapper>\n        <Select\n          onChange={handleGenreSelect}\n          options={genres}\n          placeholder=\"GÃ©neros\"\n          value={selection}\n        />\n        <Range {...rangeRatingSettings}></Range>\n        <p>valor min:{rangeRatingValues[0]}</p>\n        <p>valor max:{rangeRatingValues[1]}</p>\n        <Range {...rangeReleaseSettings}></Range>\n        <p>valor min aÃ±o:{rangeReleaseValues[0]}</p>\n        <p>valor max aÃ±o:{rangeReleaseValues[1]}</p>\n        <button onClick={searchMovies}>Buscar</button>\n      </SearchWrapper>\n    </Wrapper>\n  );\n};\n\nexport default MovieSearch;\n","import { useState, useEffect } from \"react\";\nimport { initAppData } from \"./utils/movies\";\nimport { appLanguage } from \"./utils/config\";\nimport MovieSection from \"./components/MovieSection\";\nimport MovieSearch from \"./components/MovieSearch\"\n\nfunction App() {\n  const [genres, setGenres] = useState([]);\n  const [sections, setSections] = useState([]);\n  const [searchSection, setSearchSection] = useState(null);\n\n\n  useEffect(() => {\n    console.log(\"running use effect\");\n    initAppData({ language: appLanguage }).then((data) => {\n      setGenres([...data.genres]);\n      setSections([...data.sections]);\n    });\n  }, [appLanguage]);\n\nconsole.log(\"estado search section\",searchSection);\n\n  return (\n    <div>\n      <MovieSearch genres={genres} setSearchSection={setSearchSection}/>\n      {searchSection && <MovieSection key={searchSection.id} sectionTitle={searchSection.name} movies={searchSection.movies}/>}\n      {sections.map((section) => (\n        <MovieSection key={section.id} sectionTitle={section.name} movies={section.movies} />\n      ))}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}