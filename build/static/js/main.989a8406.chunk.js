(this["webpackJsonpmuvinext-react"]=this["webpackJsonpmuvinext-react"]||[]).push([[0],{39:function(e,n,t){},51:function(e,n,t){},77:function(e,n,t){"use strict";t.r(n);var a,c,r,i,o,l,s,d,u,j,b,h,f,m,O,p=t(0),x=t.n(p),v=t(15),g=t.n(v),w=(t(51),t(12)),k=t(5),S=t(25),y=t(13),C="/api/",z=function(e){var n=e.language,t=e.genre,a=e.voteGte,c=e.voteLte,r=e.dateGte,i=e.dateLte,o="?language=".concat(n),l=t?"&genre=".concat(t):"",s=a?"&voteGte=".concat(a):"",d=c?"&voteLte=".concat(c):"",u=r?"&dateGte=".concat(r,"-01-01"):"",j=i?"&dateLte=".concat(i,"-12-31"):"";return fetch("".concat(C,"movies/discover").concat(o).concat(l).concat(s).concat(d).concat(u).concat(j)).then((function(e){return e.json()}))},_=(t(39),t(6)),E=t(7),L="https://image.tmdb.org/t/p",G="/w154",F="/w780",I=t(3),P=E.a.article(a||(a=Object(_.a)(["\n  background-color: hsla(0, 0%, 15%, 1);\n  width: 40%;\n  margin: 0.5rem;\n  color: #fff;\n  border-radius: 5px;\n  overflow: hidden;\n  transition: transform 0.1s linear;\n  @media (min-width: 768px) {\n    width: 15%;\n  }\n  :hover {\n    transform: scale(1.03);\n  }\n"]))),B=Object(E.a)(S.b)(c||(c=Object(_.a)(["\n  text-decoration: none;\n  color: inherit;\n  &:focus,\n  &:hover,\n  &:visited,\n  &:link,\n  &:active {\n    text-decoration: none;\n  }\n"]))),D=E.a.div(r||(r=Object(_.a)(["\n  position: relative;\n  background-image: url(",");\n  background-position: center;\n  background-size: cover;\n  padding-top: calc(100% * 16 / 11);\n  width: 100%;\n"])),(function(e){var n=e.poster_path;return"".concat(L).concat(G).concat(n)})),N=E.a.div(i||(i=Object(_.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  /* transform: translate(50%, -50%); */\n  background-color: hsla(53, 100%, 42%, 0.75);\n  padding: 0.2rem 0.5rem;\n  border-radius: 5px;\n  z-index: 1;\n"]))),T=E.a.span(o||(o=Object(_.a)(["\n  font-size: 1rem;\n  font-weight: bold;\n  color: #000;\n"]))),V=E.a.h3(l||(l=Object(_.a)(["\n  padding: 0.35rem;\n  font-size: 1rem;\n  line-height: 1.1rem;\n  height: 2rem;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n"]))),J=function(e){var n=e.movie;return Object(I.jsx)(P,{children:Object(I.jsxs)(B,{to:{pathname:"/movie/".concat(n.id),state:{movie:n}},children:[Object(I.jsx)(D,{poster_path:n.poster_path,children:Object(I.jsx)(N,{children:Object(I.jsx)(T,{children:Number(n.vote_average).toFixed(1)})})}),Object(I.jsx)(V,{children:n.title})]})})},M=E.a.section(s||(s=Object(_.a)(["\n  padding: .5rem 0.25rem;\n  background-color: hsla(0, 0%, 6%, 1);\n"]))),U=E.a.div(d||(d=Object(_.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: .5rem 0;\n  @media (min-width: 768px) {\n    justify-content: space-between;\n  }\n"]))),Y=E.a.h3(u||(u=Object(_.a)(["\n  font-size: 1.4rem;\n  color: hsla(47, 92%, 51%, 1);\n"]))),A=function(e){var n=e.sectionTitle,t=e.movies;return Object(I.jsxs)(M,{children:[Object(I.jsx)(Y,{children:n}),Object(I.jsx)(U,{children:t.map((function(e){return Object(I.jsx)(J,{movie:e},e.id)}))})]})},H=t(23),q=t.n(H),K=t(29),Q=t(1),R=t(30),W=t(38),X=(t(64),Object(p.createContext)()),Z=Object(p.createContext)();function $(){return Object(p.useContext)(X)}function ee(e){var n=e.children,t=function(){var e=Object(p.useState)(null),n=Object(k.a)(e,2),t=n[0],a=n[1];return Object(p.useEffect)((function(){var e=window.localStorage.getItem("app-language");if(!e){var n=navigator.language;return window.localStorage.setItem("app-language",n),void a(n)}a(e)}),[]),{value:t,changeLanguage:function(e){window.localStorage.setItem("app-language",e),a(e)}}}();return Object(I.jsx)(X.Provider,{value:t.value,children:Object(I.jsx)(Z.Provider,{value:t.changeLanguage,children:n})})}var ne,te,ae,ce,re,ie,oe,le,se,de,ue,je,be=E.a.h1(j||(j=Object(_.a)(["\n  color: hsla(47, 92%, 51%, 1);\n  margin-bottom: 1rem;\n"]))),he=E.a.main(b||(b=Object(_.a)(["\n  position: relative;\n  padding: 1rem 0;\n  display: flex;\n  flex-direction: column;\n  // justify-content: center;\n  align-items: center;\n  z-index: 2;\n"]))),fe=E.a.div(h||(h=Object(_.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 60%;\n  @media (min-width: 768px) {\n    width: 300px;\n  }\n"]))),me=E.a.button(f||(f=Object(_.a)(["\n  position: relative;\n  display: block;\n  height: 3rem;\n  width: 100%;\n  background-color: hsla(47, 92%, 51%, 1);\n  color: black;\n  font-size: 1.4rem;\n  font-weight: 400;\n  font-family: inherit;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  transition: transform 0.2s linear;\n\n  :active {\n    transform: scale(0.95);\n  }\n"]))),Oe=E.a.div(m||(m=Object(_.a)(["\n  width: 100%;\n  text-align: center;\n  color: white;\n  :last-of-type {\n    margin-bottom: 1rem;\n  }\n"]))),pe=E.a.span(O||(O=Object(_.a)(["\n  color: hsla(47, 92%, 51%, 1);\n"]))),xe=function(e){var n=Object(p.useState)([]),t=Object(k.a)(n,2),a=t[0],c=t[1],r=Object(p.useState)(null),i=Object(k.a)(r,2),o=i[0],l=i[1],s=Object(p.useState)([5,9]),d=Object(k.a)(s,2),u=d[0],j=d[1],b=Object(p.useState)([1990,(new Date).getFullYear()]),h=Object(k.a)(b,2),f=h[0],m=h[1],O=$();Object(p.useEffect)((function(){var n=e.genres.reduce((function(e,n){return e.concat({value:n.id,label:n.name})}),[]);c(Object(w.a)(n)),l(null)}),[e.genres]);var x={option:function(e,n){return Object(Q.a)(Object(Q.a)({},e),{},{color:"white",backgroundColor:"hsla(0, 0%, 15%, 1)"})},control:function(e,n){return Object(Q.a)(Object(Q.a)({},e),{},{backgroundColor:"hsla(0, 0%, 15%, 1)"})},singleValue:function(e,n){return Object(Q.a)(Object(Q.a)({},e),{},{color:"hsla(47, 92%, 51%, 1)"})}},v={min:1,max:10,step:.1,value:u,defaultValue:u,onChange:function(e){return j(Object(w.a)(e))}},g={min:1900,max:(new Date).getFullYear(),step:1,value:f,defaultValue:f,onChange:function(e){return m(Object(w.a)(e))}},S=function(){var n=Object(K.a)(q.a.mark((function n(){var t,a,c;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(O),t={voteGte:u[0],voteLte:u[1],genre:(null===o||void 0===o?void 0:o.value)?o.value:"",dateGte:f[0],dateLte:f[1],language:O},n.next=4,z(t);case 4:a=n.sent,c={id:(null===o||void 0===o?void 0:o.value)?o.value:0,name:(null===o||void 0===o?void 0:o.label)?o.label:"De todos los g\xe9neros",movies:Object(w.a)(a)},e.setSearchSection(c);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(I.jsxs)(he,{children:[Object(I.jsx)(be,{children:"Muvinext"}),Object(I.jsxs)(fe,{children:[Object(I.jsx)(R.a,{onChange:function(e){return l(e)},options:a,placeholder:"G\xe9neros",value:o,styles:x}),Object(I.jsx)(W.a,Object(Q.a)({style:{margin:"1rem 0"},trackStyle:[{backgroundColor:" hsla(47, 92%, 51%, 1)"}],handleStyle:[{backgroundColor:" hsla(47, 92%, 51%, 1)"},{backgroundColor:" hsla(47, 92%, 51%, 1)"}]},v)),Object(I.jsxs)(Oe,{children:["Puntajes entre"," ",Object(I.jsx)(pe,{children:u[0].toFixed(1)})," y"," ",Object(I.jsx)(pe,{children:u[1].toFixed(1)})]}),Object(I.jsx)(W.a,Object(Q.a)({style:{margin:"1rem 0"},trackStyle:[{backgroundColor:" hsla(47, 92%, 51%, 1)"}],handleStyle:[{backgroundColor:" hsla(47, 92%, 51%, 1)"},{backgroundColor:" hsla(47, 92%, 51%, 1)"}]},g)),Object(I.jsxs)(Oe,{children:["Peliculas del a\xf1o ",Object(I.jsx)(pe,{children:f[0]})," y"," ",Object(I.jsx)(pe,{children:f[1]})]}),Object(I.jsx)(me,{onClick:S,children:"Buscar"})]})]})},ve=E.a.div(ne||(ne=Object(_.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  padding: 1rem;\n  z-index: 10;\n  width: 200px;\n"]))),ge=function(){var e=Object(p.useState)(null),n=Object(k.a)(e,2),t=n[0],a=n[1],c=$(),r=[{value:"en-US",label:"English"},{value:"es-US",label:"Espa\xf1ol"}];Object(p.useEffect)((function(){if(c){var e=r.find((function(e){return e.value===c}));a(e)}}),[c]);var i=Object(p.useContext)(Z);return Object(I.jsx)(ve,{children:Object(I.jsx)(R.a,{onChange:function(e){a(e),i(e.value)},options:r,value:t})})},we=function(e){var n=e.genres,t=e.sections,a=e.searchSection,c=e.setSearchSection;return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)(ge,{}),Object(I.jsx)(xe,{genres:n,setSearchSection:c}),a&&Object(I.jsx)(A,{sectionTitle:a.name,movies:a.movies},a.id),t.map((function(e){return Object(I.jsx)(A,{sectionTitle:e.name,movies:e.movies},e.id)}))]})},ke=t(46),Se=E.a.div(te||(te=Object(_.a)(["\n  background-color: hsla(0, 0%, 6%, 1);\n  min-height: 100vh;\n"]))),ye=E.a.div(ae||(ae=Object(_.a)(["\n  display: flex;\n  height: 3rem;\n  background-color: hsla(0, 0%, 15%, 1);\n  border-bottom: 1px solid hsla(0, 0%, 25%, 1);\n\n  @media (min-width: 768px) {\n    height: 5rem;\n  }\n"]))),Ce=Object(E.a)(ke.a)(ce||(ce=Object(_.a)(["\n  position: relative;\n  color: hsla(0, 0%, 40%, 1);\n  font-size: 2rem;\n  transition: transform 0.1s linear;\n\n  @media (min-width: 768px) {\n    font-size: 3rem;\n  }\n"]))),ze=E.a.div(re||(re=Object(_.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 3rem 0 0;\n  border-right: 1px solid hsla(0, 0%, 25%, 1);\n  cursor:pointer;\n  @media (min-width: 768px) {\n    flex: 10rem 0 0;\n  }\n\n  :hover "," {\n    transform: scale(1.05);\n  }\n"])),Ce),_e=E.a.div(ie||(ie=Object(_.a)(["\n  display: flex;\n  align-items: center;\n  flex-grow: 1;\n  flex-shrink: 0;\n  color: #fff;\n  padding-left: 0.5rem;\n  font-size: 1.2rem;\n  font-weight: 600;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  @media (min-width: 768px) {\n    padding-left: 2rem;\n    font-size: 2rem;\n    font-weight: 900;\n  }\n"]))),Ee=E.a.div(oe||(oe=Object(_.a)(["\n  display: flex;\n  //   align-items: flex-start;\n  //   flex-direction: row;\n  flex-wrap: wrap;\n  padding: 1rem;\n  //   width: 400px;\n  font-size: 1.125rem;\n\n  @media (min-width: 768px) {\n    flex-wrap: nowrap;\n    padding: 2rem 5rem;\n  }\n"]))),Le=E.a.div(le||(le=Object(_.a)(["\n  width: 100%;\n  overflow: hidden;\n  border-radius: 5px;\n  @media (min-width: 768px) {\n    // //   flex-basis:500px;\n    // width: 500px;\n    width: 30%;\n  }\n"]))),Ge=E.a.div(se||(se=Object(_.a)(["\n  position: relative;\n  background-image: url(",");\n  background-position: center;\n  background-size: cover;\n  padding-top: calc(100% * 16 / 11);\n  width: 100%;\n"])),(function(e){var n=e.poster_path;return"".concat(L).concat(F).concat(n)})),Fe=E.a.div(de||(de=Object(_.a)(["\n  color: #fff;\n  width: 100%;\n  padding: 1rem 0;\n  font-weight:600;\n  @media (min-width: 768px) {\n    width: 70%;\n    padding: 1rem;\n  }\n"]))),Ie=E.a.div(ue||(ue=Object(_.a)(["\n  display: flex;\n  margin-bottom: .5rem;\n"]))),Pe=E.a.div(je||(je=Object(_.a)(["\n  margin: 0 .5rem;\n  color: ",";\n  font-weight:600;\n"])),(function(e){return e.color?e.color:"hsla(0, 0%, 40%, 1)"})),Be=function(){var e=Object(y.f)(),n=e.location.state.movie;return Object(I.jsxs)(Se,{children:[Object(I.jsxs)(ye,{children:[Object(I.jsx)(ze,{onClick:function(){return e.goBack()},children:Object(I.jsx)(Ce,{})}),Object(I.jsx)(_e,{children:n.title})]}),Object(I.jsxs)(Ee,{children:[Object(I.jsx)(Le,{children:Object(I.jsx)(Ge,{poster_path:n.poster_path})}),Object(I.jsxs)(Fe,{children:[Object(I.jsxs)(Ie,{children:[Object(I.jsx)(Pe,{children:n.release_date.split("-")[0]}),Object(I.jsx)(Pe,{color:"hsla(53, 100%, 42%, 1)",children:Number(n.vote_average).toFixed(1)})]}),Object(I.jsx)("div",{children:n.overview})]})]})]})};var De=function(){var e=Object(p.useState)([]),n=Object(k.a)(e,2),t=n[0],a=n[1],c=Object(p.useState)([]),r=Object(k.a)(c,2),i=r[0],o=r[1],l=Object(p.useState)(null),s=Object(k.a)(l,2),d=s[0],u=s[1],j=$();return Object(p.useEffect)((function(){j&&function(e){var n=e.language,t=n?"?language=".concat(n):"";return fetch("".concat(C,"movies/init").concat(t)).then((function(e){if(200===e.status)return e.json();throw Error("Hubo un error en la conexi\xf3n con el servidor")})).catch((function(e){return console.log(e)}))}({language:j}).then((function(e){u(null),a(Object(w.a)(e.genres)),o(Object(w.a)(e.sections))}))}),[j]),Object(I.jsx)(S.a,{children:Object(I.jsxs)(y.c,{children:[Object(I.jsx)(y.a,{path:"/movie/:id",children:Object(I.jsx)(Be,{})}),Object(I.jsx)(y.a,{path:"/",children:Object(I.jsx)(we,{genres:t,sections:i,searchSection:d,setSearchSection:u})})]})})};g.a.render(Object(I.jsx)(x.a.StrictMode,{children:Object(I.jsx)(ee,{children:Object(I.jsx)(De,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.989a8406.chunk.js.map