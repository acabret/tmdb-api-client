(this["webpackJsonpmuvinext-react"]=this["webpackJsonpmuvinext-react"]||[]).push([[0],{38:function(e,n,t){},39:function(e,n,t){},64:function(e,n,t){"use strict";t.r(n);var a,c,o,r,i,s,l,u,d,b,j,h,O,m=t(0),p=t.n(m),v=t(13),g=t.n(v),f=(t(38),t(10)),x=t(4),w="en-US",k="/w154",y="/api/",S=function(e){var n=e.language,t=void 0===n?w:n,a=e.genre,c=e.voteGte,o=e.voteLte,r=e.dateGte,i=e.dateLte,s="?language=".concat(t),l=a?"&genre=".concat(a):"",u=c?"&voteGte=".concat(c):"",d=o?"&voteLte=".concat(o):"",b=r?"&dateGte=".concat(r,"-01-01"):"",j=i?"&dateLte=".concat(i,"-12-31"):"";return fetch("".concat(y,"movies/discover").concat(s).concat(l).concat(u).concat(d).concat(b).concat(j)).then((function(e){return e.json()}))},C=(t(39),t(12)),z=t(15),G=t(5),L=z.a.article(a||(a=Object(C.a)(["\n  background-color: hsla(0, 0%, 15%, 1);\n  /* width: 11rem; */\n  width: 40%;\n  margin: 0.5rem;\n  border-radius: 5px;\n  overflow: hidden;\n  @media (min-width: 768px) {\n    width: 15%;\n  }\n"]))),E=z.a.div(c||(c=Object(C.a)(["\n  position: relative;\n  background-image: url(",");\n  background-position: center;\n  background-size: cover;\n  padding-top: calc(100% * 16 / 11);\n  width: 100%;\n"])),(function(e){var n=e.poster_path;return"".concat("https://image.tmdb.org/t/p").concat(k).concat(n)})),_=z.a.div(o||(o=Object(C.a)(["\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  /* transform: translate(50%, -50%); */\n  background-color: hsla(53, 100%, 42%, .75);\n  padding: 0.2rem 0.5rem;\n  border-radius: 5px;\n  z-index: 1;\n"]))),D=z.a.span(r||(r=Object(C.a)(["\n  font-size: 1rem;\n  font-weight: bold;\n"]))),F=z.a.h3(i||(i=Object(C.a)(["\n  padding: 0.35rem;\n  color:white;\n  font-size: 1rem;\n  line-height: 1.1rem;\n  height: 2.2rem;\n  -webkit-line-clamp:2;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]))),T=function(e){var n=e.movie;return Object(G.jsxs)(L,{children:[Object(G.jsx)(E,{poster_path:n.poster_path,children:Object(G.jsx)(_,{children:Object(G.jsx)(D,{children:Number(n.vote_average).toFixed(1)})})}),Object(G.jsx)(F,{children:n.title})]})},V=z.a.section(s||(s=Object(C.a)(["\n  padding: .5rem 0.25rem;\n  background-color: hsla(0, 0%, 6%, 1);\n"]))),B=z.a.div(l||(l=Object(C.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  padding: .5rem 0;\n  @media (min-width: 768px) {\n    justify-content: space-between;\n  }\n"]))),J=z.a.h3(u||(u=Object(C.a)(["\n  font-size: 1.4rem;\n  color: hsla(47, 92%, 51%, 1);\n"]))),P=function(e){var n=e.sectionTitle,t=e.movies;return console.log("peliculas de ",n,"peliculas",t),Object(G.jsxs)(V,{children:[Object(G.jsx)(J,{children:n}),Object(G.jsx)(B,{children:t.map((function(e){return Object(G.jsx)(T,{movie:e},e.id)}))})]})},Y=t(17),A=t.n(Y),H=t(22),I=t(1),M=t(33),N=t(27),U=(t(48),z.a.main(d||(d=Object(C.a)(["\n  position: relative;\n  padding: 1rem 0;\n  display: flex;\n  justify-content: center;\n  z-index: 2;\n"])))),q=z.a.div(b||(b=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 60%;\n  @media (min-width: 768px) {\n    width: 300px;\n  }\n"]))),K=z.a.button(j||(j=Object(C.a)(["\n  position: relative;\n  display: block;\n  height: 3rem;\n  width: 100%;\n  background-color: hsla(47, 92%, 51%, 1);\n  color: black;\n  font-size: 1.4rem;\n  font-weight: 400;\n  font-family: inherit;\n  border: none;\n  border-radius: 5px;\n  transition: transform 0.2s linear;\n\n  :active {\n    transform: scale(0.95);\n  }\n"]))),Q=z.a.div(h||(h=Object(C.a)(["\n  width: 100%;\n  text-align: center;\n  color: white;\n  :last-of-type{\n    margin-bottom:1rem;\n  }\n"]))),R=z.a.span(O||(O=Object(C.a)(["\n  color: hsla(47, 92%, 51%, 1);\n"]))),W=function(e){var n=Object(m.useState)([]),t=Object(x.a)(n,2),a=t[0],c=t[1],o=Object(m.useState)(null),r=Object(x.a)(o,2),i=r[0],s=r[1],l=Object(m.useState)([5,9]),u=Object(x.a)(l,2),d=u[0],b=u[1],j=Object(m.useState)([1990,(new Date).getFullYear()]),h=Object(x.a)(j,2),O=h[0],p=h[1];Object(m.useEffect)((function(){var n=e.genres.reduce((function(e,n){return e.concat({value:n.id,label:n.name})}),[]);c(Object(f.a)(n))}),[e.genres]);var v={option:function(e,n){return Object(I.a)(Object(I.a)({},e),{},{color:"white",backgroundColor:"hsla(0, 0%, 15%, 1)"})},control:function(e,n){return Object(I.a)(Object(I.a)({},e),{},{backgroundColor:"hsla(0, 0%, 15%, 1)"})},singleValue:function(e,n){return Object(I.a)(Object(I.a)({},e),{},{color:"hsla(47, 92%, 51%, 1)"})}},g={min:1,max:10,step:.1,value:d,defaultValue:d,onChange:function(e){return b(Object(f.a)(e))}},w={min:1900,max:(new Date).getFullYear(),step:1,value:O,defaultValue:O,onChange:function(e){return p(Object(f.a)(e))}},k=function(){var n=Object(H.a)(A.a.mark((function n(){var t,a,c;return A.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t={voteGte:d[0],voteLte:d[1],genre:(null===i||void 0===i?void 0:i.value)?i.value:"",dateGte:O[0],dateLte:O[1]},n.next=3,S(t);case 3:a=n.sent,c={id:(null===i||void 0===i?void 0:i.value)?i.value:0,name:(null===i||void 0===i?void 0:i.label)?i.label:"De todos los g\xe9neros",movies:Object(f.a)(a)},e.setSearchSection(c);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return Object(G.jsx)(U,{children:Object(G.jsxs)(q,{children:[Object(G.jsx)(M.a,{onChange:function(e){return s(e)},options:a,placeholder:"G\xe9neros",value:i,styles:v}),Object(G.jsx)(N.a,Object(I.a)({style:{margin:"1rem 0"},trackStyle:[{backgroundColor:" hsla(47, 92%, 51%, 1)"}],handleStyle:[{backgroundColor:" hsla(47, 92%, 51%, 1)"},{backgroundColor:" hsla(47, 92%, 51%, 1)"}]},g)),Object(G.jsxs)(Q,{children:["Puntajes entre ",Object(G.jsx)(R,{children:d[0]})," y"," ",Object(G.jsx)(R,{children:d[1]})]}),Object(G.jsx)(N.a,Object(I.a)({style:{margin:"1rem 0"},trackStyle:[{backgroundColor:" hsla(47, 92%, 51%, 1)"}],handleStyle:[{backgroundColor:" hsla(47, 92%, 51%, 1)"},{backgroundColor:" hsla(47, 92%, 51%, 1)"}]},w)),Object(G.jsxs)(Q,{children:["Peliculas del a\xf1o ",Object(G.jsx)(R,{children:O[0]})," y"," ",Object(G.jsx)(R,{children:O[1]})]}),Object(G.jsx)(K,{onClick:k,children:"Buscar"})]})})};var X=function(){var e=Object(m.useState)([]),n=Object(x.a)(e,2),t=n[0],a=n[1],c=Object(m.useState)([]),o=Object(x.a)(c,2),r=o[0],i=o[1],s=Object(m.useState)(null),l=Object(x.a)(s,2),u=l[0],d=l[1];return Object(m.useEffect)((function(){var e;console.log("running use effect"),(e={language:w},e.language,fetch("".concat(y,"movies/init")).then((function(e){if(200===e.status)return e.json();throw Error("Hubo un error en la conexi\xf3n con el servidor")})).catch((function(e){return console.log(e)}))).then((function(e){a(Object(f.a)(e.genres)),i(Object(f.a)(e.sections))}))}),[w]),console.log("estado search section",u),Object(G.jsxs)("div",{class:"App",children:[Object(G.jsx)(W,{genres:t,setSearchSection:d}),u&&Object(G.jsx)(P,{sectionTitle:u.name,movies:u.movies},u.id),r.map((function(e){return Object(G.jsx)(P,{sectionTitle:e.name,movies:e.movies},e.id)}))]})};g.a.render(Object(G.jsx)(p.a.StrictMode,{children:Object(G.jsx)(X,{})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.d7ba4e04.chunk.js.map